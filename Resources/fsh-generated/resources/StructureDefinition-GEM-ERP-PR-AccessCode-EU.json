{
  "resourceType": "StructureDefinition",
  "id": "GEM-ERP-PR-AccessCode-EU",
  "url": "https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Access_Code_EU",
  "version": "1.5",
  "name": "GEM_ERP_PR_Access_Code_EU",
  "title": "Identifier Profile for EU AccessCode",
  "status": "draft",
  "date": "2025-01-01",
  "description": "The AccessCode that is generated by the FdV in order to access the ePrescription in an EU country.",
  "fhirVersion": "4.0.1",
  "kind": "complex-type",
  "abstract": false,
  "type": "Identifier",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Identifier",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Identifier.use",
        "path": "Identifier.use",
        "fixedCode": "official"
      },
      {
        "id": "Identifier.system",
        "path": "Identifier.system",
        "min": 1,
        "patternUri": "https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_EU_AccessCode",
        "mustSupport": true
      },
      {
        "id": "Identifier.value",
        "path": "Identifier.value",
        "short": "The AccessCode for redeeming the ePrescription in an EU country.",
        "definition": "This is the AccessCode that is generated by the FdV in order to access the ePrescription in an EU country. It is handed to the E-Rezept-Fachdienst by the FdV.",
        "comment": "6-digit code that is generated by the FdV in order to access the ePrescription in an EU country.",
        "min": 1,
        "constraint": [
          {
            "key": "workflow-eu-access-code-1",
            "severity": "error",
            "human": "Format of the AccessCode must be a 6-digit code in the Form [a-z, A-Z, 0-9].",
            "expression": "$this.matches('^[a-zA-Z0-9]{6}$')",
            "source": "https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Access_Code_EU"
          }
        ],
        "mustSupport": true
      }
    ]
  }
}
