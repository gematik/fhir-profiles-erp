{
  "resourceType": "OperationDefinition",
  "id": "Grant-EU-Access-Permission",
  "url": "https://gematik.de/fhir/erp/OperationDefinition/Grant_EU_Access_PermissionOperationDefinition",
  "status": "draft",
  "version": "1.5",
  "date": "2025-01-01",
  "name": "Grant_EU_Access_Permission",
  "kind": "operation",
  "affectsState": true,
  "resource": [
    "Task"
  ],
  "system": true,
  "type": false,
  "instance": false,
  "description": "This operation receives the access code and the country that the patient wants to grant access to. The operation validates the country and creates registeres the Access Code.",
  "code": "grant-eu-access-permission",
  "inputProfile": "https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_PAR_EU_Access_Authorization_Request",
  "outputProfile": "https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_PAR_EU_Access_Authorization_Response",
  "parameter": [
    {
      "name": "countryCode",
      "use": "in",
      "min": 1,
      "max": "1",
      "documentation": "The country for which the patient wants to grant access.",
      "type": "Coding"
    },
    {
      "name": "accessCode",
      "use": "in",
      "min": 1,
      "max": "1",
      "documentation": "The access code for that country.",
      "type": "Identifier"
    },
    {
      "name": "countryCode",
      "use": "out",
      "min": 1,
      "max": "1",
      "documentation": "The country for which the patient wants to grant access.",
      "type": "Coding"
    },
    {
      "name": "accessCode",
      "use": "out",
      "min": 1,
      "max": "1",
      "documentation": "The access code for that country.",
      "type": "Identifier"
    },
    {
      "name": "validUntil",
      "use": "out",
      "min": 1,
      "max": "1",
      "documentation": "The instant until the access code is valid.",
      "type": "instant"
    },
    {
      "name": "createdAt",
      "use": "out",
      "min": 1,
      "max": "1",
      "documentation": "The instant when the record was created in the E-Rezept-Fachdienst.",
      "type": "instant"
    }
  ]
}
